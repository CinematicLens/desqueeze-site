<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Web Desqueeze Studio — Simple Desqueezer</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="wrapper">
    <header class="hero">
      <div class="card">
        <h1>Web Desqueeze Studio — Simple Desqueezer</h1>
        <p class="sub">Preview horizontal de-squeeze; export fully corrected MP4/JPG/PNG</p>
      </div>
    </header>

    <main class="grid">
      <section class="panel monitor">
        <div class="preview" id="previewBox">
          <video id="video" playsinline controls></video>
          <canvas id="photoCanvas" class="hidden"></canvas>
        </div>

        <div class="controls">
          <div class="actions">
            <button id="play" class="start">Play</button>
            <button id="pause" class="stop">Pause</button>
            <button id="exportSelected" class="start" disabled>Export Selected</button>
            <button id="exportBatch" class="start" disabled>Export Batch</button>
            <span id="status" class="status">Idle</span>
          </div>

          <progress id="progressBar" value="0" max="100" class="hidden"></progress>

          <div id="download" class="download hidden">
            <a id="downloadLink" href="#" download>Download</a>
          </div>

          <div id="queue" class="queue hidden"></div>
        </div>
      </section>

      <section class="panel">
        <h2>Settings</h2>

        <div class="row">
          <label>Files</label>
          <div>
            <input id="fileInput" type="file" accept="video/*,image/*" multiple />
            <small>Select up to 10 files. The first item previews above.</small>
          </div>
        </div>

        <div class="row">
          <label>De-squeeze</label>
          <div>
            <select id="desqPreset">
              <option value="1">None (1.00×)</option>
              <option value="1.25">1.25×</option>
              <option value="1.33" selected>1.33× (Classic)</option>
              <option value="1.5">1.50×</option>
              <option value="1.8">1.80×</option>
              <option value="2">2.00×</option>
              <option value="custom">Custom…</option>
            </select>
            <input id="desqCustom" type="number" step="0.01" min="1" placeholder="Custom factor" class="hidden mt8" />
            <small>Preview updates instantly; export uses the same factor.</small>
          </div>
        </div>

        <div class="row">
          <label>Video FPS</label>
          <div>
            <select id="fpsPreset">
              <option value="copy" selected>Keep original</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="30">30</option>
              <option value="50">50</option>
              <option value="60">60</option>
            </select>
          </div>
        </div>

        <div class="row">
          <label>Video Bitrate</label>
          <div>
            <select id="bitratePreset">
              <option value="8000000" selected>8 Mbps</option>
              <option value="12000000">12 Mbps</option>
              <option value="16000000">16 Mbps</option>
              <option value="25000000">25 Mbps</option>
            </select>
          </div>
        </div>

        <div class="row">
          <label>Photo Format</label>
          <div>
            <select id="photoFormat">
              <option value="image/jpeg" selected>JPEG</option>
              <option value="image/png">PNG</option>
            </select>
          </div>
        </div>

        <!-- IMPORTANT: point to your live backend -->
        <div class="row" style="display:none">
          <label>Upload URL</label>
          <input id="uploadUrl" type="text" value="https://api.anamorphic-desqueeze.com/upload" />
        </div>
      </section>
    </main>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
  <script src="./app.js"></script>
</body>
</html>
